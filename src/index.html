<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#79b2c3" />

    <title>Drysland</title>
    <meta
      property="description"
      content="Rotate the tiles to restore the course of the river and un-Dry the Island!"
    />

    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://drysland.vercel.app/" />
    <meta property="og:title" content="Drysland" />
    <meta property="og:site_name" content="Drysland" />
    <meta
      property="og:description"
      content="Rotate the tiles to restore the course of the river and un-Dry the Island!"
    />
    <meta property="og:image" content="https://drysland.vercel.app/cover.png" />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="Drysland" />
    <meta
      property="twitter:description"
      content="Rotate the tiles to restore the course of the river and un-Dry the Island!"
    />
    <meta property="twitter:image" content="https://drysland.vercel.app/cover.png" />

    <style>
      html,
      body {
        background-color: #79b2c3;
        overflow: hidden;
        overscroll-behavior: none;
        touch-action: none;
        width: 100vw;
        height: 100svh;
      }
    </style>
    <link rel="stylesheet" href="./style.css" />

    <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
    <link rel="canonical" href="https://drysland.vercel.app/index.html" />

    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_16_Pro_Max_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_16_Pro_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_16_Plus__iPhone_15_Pro_Max__iPhone_15_Plus__iPhone_14_Pro_Max_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_16__iPhone_15_Pro__iPhone_15__iPhone_14_Pro_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_16e__iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_11_Pro_Max__iPhone_XS_Max_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/iPhone_11__iPhone_XR_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="splash/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/4__iPhone_SE__iPod_touch_5th_generation_and_later_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 1032px) and (device-height: 1376px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/13__iPad_Pro_M4_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/12.9__iPad_Pro_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1210px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/11__iPad_Pro_M4_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/11__iPad_Pro__10.5__iPad_Pro_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/10.9__iPad_Air_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/10.5__iPad_Air_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/10.2__iPad_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="splash/8.3__iPad_Mini_landscape.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 440px) and (device-height: 956px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_16_Pro_Max_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 402px) and (device-height: 874px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_16_Pro_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_16_Plus__iPhone_15_Pro_Max__iPhone_15_Plus__iPhone_14_Pro_Max_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_16__iPhone_15_Pro__iPhone_15__iPhone_14_Pro_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_14_Plus__iPhone_13_Pro_Max__iPhone_12_Pro_Max_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_16e__iPhone_14__iPhone_13_Pro__iPhone_13__iPhone_12_Pro__iPhone_12_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_13_mini__iPhone_12_mini__iPhone_11_Pro__iPhone_XS__iPhone_X_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_11_Pro_Max__iPhone_XS_Max_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/iPhone_11__iPhone_XR_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="splash/iPhone_8_Plus__iPhone_7_Plus__iPhone_6s_Plus__iPhone_6_Plus_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/iPhone_8__iPhone_7__iPhone_6s__iPhone_6__4.7__iPhone_SE_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/4__iPhone_SE__iPod_touch_5th_generation_and_later_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 1032px) and (device-height: 1376px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/13__iPad_Pro_M4_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/12.9__iPad_Pro_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1210px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/11__iPad_Pro_M4_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/11__iPad_Pro__10.5__iPad_Pro_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/10.9__iPad_Air_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/10.5__iPad_Air_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/10.2__iPad_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/9.7__iPad_Pro__7.9__iPad_mini__9.7__iPad_Air__9.7__iPad_portrait.png"
    />
    <link
      rel="apple-touch-startup-image"
      media="screen and (device-width: 744px) and (device-height: 1133px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="splash/8.3__iPad_Mini_portrait.png"
    />
    <script src="https://kit.fontawesome.com/7fdff1040a.js" crossorigin="anonymous"></script>
  </head>

  <body>
    <main>
      <div class="loading">
        <div class="absolute z-10 flex flex-col items-center">
          <p class="title">Loading</p>
          <span id="progress"></span>
        </div>
        <div class="spinner"></div>
      </div>

      <div class="menu">
        <div class="relative text-center flex flex-col items-center">
          <div class="bg-hex"></div>
          <h1 class="title">Drysland</h1>
          <div class="flex flex-row justify-center relative">
            <button id="start" class="hex">
              <i class="fa-solid fa-play"></i>
              <label>Start</label>
            </button>
            <button id="auth" class="hex">
              <i class="fa-brands fa-google"></i>
              <label>Log in</label>
            </button>
            <button id="credits" class="hex absolute -bottom-20">
              <i class="fa-solid fa-circle-info"></i>
              <label>Credits</label>
            </button>
            <button id="settings" title="Settings" class="hex absolute -bottom-[44px] -right-[3px]">
              <i class="fa-solid fa-cog text-2xl"></i>
            </button>
          </div>
        </div>

        <footer class="flex flex-col items-center gap-2">
          <p>
            Made with <i class="fa-solid fa-heart"></i> by
            <a href="https://github.com/dammafra/drysland" target="_blank"> @dammafra </a>
          </p>
          <a href="https://www.buymeacoffee.com/dammafra" target="_blank">
            <img
              src="./bmc.png"
              alt="Buy Me A Coffee"
              class="h-10 hover:opacity-80 active:opacity-80"
            />
          </a>
        </footer>
      </div>

      <div class="modal-container">
        <div class="modal-content hidden"></div>
        <button id="modal-close" title="Close" class="hex absolute mb-70 ml-74 z-10 hidden">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <canvas class="webgl grab"></canvas>

      <!-- modals -->
      <div id="credits" class="modal hidden">
        <h2>Thanks to</h2>
        <div class="flex flex-col gap-2 text-sm">
          <p>
            <a href="https://kenney.nl/assets/hexagon-kit" target="_blank">Hexagon Kit</a> and
            <a href="https://kenney.nl/assets/cursor-pack" target="_blank">Cursor Pack</a> by
            <a href="https://kenney.nl" target="_blank">Kenney</a>
          </p>

          <p>
            <a href="https://codepen.io/boytchev/pen/qBLNEVZ" target="_blank">
              Wind flow implementation
            </a>
            by <a href="https://github.com/boytchev" target="_blank">Pavel Boytchev</a>
          </p>

          <p>
            Skybox via
            <a href="https://freestylized.com/skybox/sky_42/" target="_blank">Free Stylized</a>
          </p>

          <p>
            Sound Effects by
            <a
              href="https://pixabay.com/users/floraphonic-38928062/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=197891"
              target="_blank"
            >
              floraphonic </a
            >,
            <a
              href="https://pixabay.com/users/freesound_community-46691455/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=102122"
              target="_blank"
              >freesound_community</a
            >
            <a
              href="https://pixabay.com/users/rasoolasaad-47313572/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=269266"
              target="_blank"
            >
              Rasool Asaad</a
            >, <br />
            <a
              href="https://pixabay.com/users/missywhimsyart-4358466/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=266187"
              target="_blank"
            >
              Lynda Smith </a
            >,
            <a
              href="https://pixabay.com/users/sergequadrado-24990007/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=275487"
              target="_blank"
            >
              Sergei Chetvertnykh
            </a>
            <br />
            via
            <a
              href="https://pixabay.com//?utm_source=link-attribution&utm_medium=referral&utm_campaign=music"
              target="_blank"
            >
              Pixabay
            </a>
          </p>

          <p>
            <a href="https://skfb.ly/orun9" target="_blank"> Low-Poly Seagull </a>
            by
            <a href="https://sketchfab.com/simonaskLDE" target="_blank">simonaskLDE</a>
            [<a href="http://creativecommons.org/licenses/by/4.0/" target="_blank"> CC </a>]
            <br />via
            <a href="https://sketchfab.com/" target="_blank"> Sketchfab </a>
          </p>

          <p>
            <a href="https://poly.pizza/m/cIzO4MBPqI" target="_blank"> Sail Ship </a>
            by
            <a href="https://poly.pizza/u/Quaternius" target="_blank"> Quaternius </a>
            and <br />
            <a href="https://poly.pizza/m/1d76pfN4Dne" target="_blank"> Sailboat </a>
            by
            <a href="https://poly.pizza/u/Poly%20by%20Google" target="_blank"> Poly by Google </a>
            [<a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC</a>]
            <br />via
            <a href="https://poly.pizza" target="_blank"> Poly Pizza </a>
          </p>
        </div>
      </div>

      <div id="state-conflict" class="modal hidden">
        <p>Looks like your local and remote saves don’t match, choose the one to keep:</p>
        <div class="slots flex justify-center gap-2">
          <button id="save-slot" class="hex primary hidden size-32">
            <p class="level text-xl">level</p>
            <p class="date text-xs">date</p>
          </button>
        </div>
      </div>

      <div id="settings" class="modal hidden">
        <h2>Graphics Settings</h2>
        <div class="flex flex-col gap-2 w-44">
          <label>
            <input type="radio" name="graphics" value="quality" />
            <span class="radio-mark"></span>
            Quality
          </label>
          <label>
            <input type="radio" name="graphics" value="performance" />
            <span class="radio-mark"></span>
            Performance
          </label>
        </div>
        <p id="restart-warning" class="text-amber-500 scale-0">
          You might need to restart the game for some changes to take effect
        </p>
      </div>

      <div id="auth-login" class="modal hidden">
        <h2>Log in</h2>
        <p>
          Your progress is automatically saved on this device. Log in with Google to back up and
          sync it across all your devices.
        </p>
        <div class="flex justify-center gap-2">
          <button id="cancel" class="hex secondary size-20">Cancel</button>
          <button id="continue" class="hex primary size-20">Continue</button>
        </div>
      </div>

      <div id="auth-logout" class="modal hidden">
        <h2>Log out</h2>
        <p>
          You’re currently syncing your progress with your Google account. <br />
          Logging out will stop cloud sync, but your progress will still be saved locally.
        </p>
        <div class="flex justify-center gap-2">
          <button id="cancel" class="hex secondary size-20">Cancel</button>
          <button id="continue" class="hex primary size-20">Continue</button>
        </div>
      </div>

      <!-- header -->
      <button id="menu" title="Main menu" class="hex absolute top-4 left-4 z-10 hidden">
        <i class="fa-solid fa-bars"></i>
      </button>
      <div>
        <h1 id="level" class="hidden">Level 1</h1>
      </div>

      <!-- tutorial -->
      <p id="tutorial" class="hidden">Touch any river tile to start</p>

      <!-- footer -->
      <div class="absolute bottom-4 text-center w-full pointer-events-none">
        <button id="next" class="hex text-2xl pointer-events-auto hidden">Next</button>
      </div>

      <button id="back" title="Back to exploration" class="hex hidden absolute bottom-4 left-4">
        <i class="fa-regular fa-compass text-2xl"></i>
      </button>

      <div id="controls" class="absolute bottom-4 right-4">
        <button
          id="fullscreen"
          title="Toggle fullscreen"
          class="hex absolute bottom-10 right-18 hidden"
        >
          <i class="fa-solid fa-expand"></i>
          <i class="fa-solid fa-compress"></i>
        </button>
        <button
          id="sounds"
          title="Toggle sound effects"
          class="hex absolute bottom-10 right-6 hidden"
        >
          <i class="fa-solid fa-volume-low"></i>
        </button>
        <button id="loop" title="Toggle music" class="hex absolute bottom-0 right-12 hidden">
          <i class="fa-solid fa-music"></i>
        </button>
        <button
          id="ambience"
          title="Toggle ambient sound"
          class="hex absolute bottom-0 right-0 hidden"
        >
          <i class="fa-solid fa-water"></i>
        </button>
      </div>
    </main>

    <script type="module" src="./script.js"></script>
  </body>
</html>
