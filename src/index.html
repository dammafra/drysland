<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#79b2c3" />

    <title>Drysland</title>
    <meta
      property="description"
      content="Rotate the tiles to restore the course of the river and un-Dry the Island!"
    />

    <style>
      html,
      body {
        background-color: #79b2c3;
        overflow: hidden;
        overscroll-behavior: none;
        touch-action: none;
        width: 100vw;
        height: 100svh;
      }
    </style>
    <link rel="stylesheet" href="./style.css" />

    <script defer src="fontawesome/fontawesome.min.js"></script>
    <script defer src="fontawesome/solid.min.js"></script>
    <script defer src="fontawesome/regular.min.js"></script>

    <script src="https://sdk.crazygames.com/crazygames-sdk-v3.js"></script>
  </head>

  <body>
    <main>
      <div class="loading">
        <div class="absolute z-10 flex flex-col items-center">
          <p class="title">Loading</p>
          <span id="progress"></span>
        </div>
        <div class="spinner"></div>
      </div>

      <div class="menu">
        <div class="relative text-center flex flex-col items-center">
          <div class="bg-hex"></div>
          <h1 class="title">Drysland</h1>
          <div class="flex flex-row justify-center relative">
            <button id="start" class="hex">
              <i class="fa-solid fa-play"></i>
              <label>Start</label>
            </button>
            <button id="credits" class="hex">
              <i class="fa-solid fa-circle-info"></i>
              <label>Credits</label>
            </button>
            <button id="settings" class="hex absolute -bottom-20">
              <i class="fa-solid fa-cog"></i>
              <label>Settings</label>
            </button>
          </div>
        </div>

        <footer>
          Made with <i class="fa-solid fa-heart"></i> by
          <a href="https://github.com/dammafra/drysland" target="_blank"> @dammafra </a>
        </footer>
      </div>

      <div class="modal-container">
        <div class="modal-content hidden"></div>
        <button id="modal-close" title="Close" class="hex absolute mb-70 ml-74 z-10 hidden">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>

      <canvas class="webgl grab"></canvas>

      <!-- modals -->
      <div id="credits" class="modal hidden">
        <h2>Thanks to</h2>
        <div class="flex flex-col gap-2 text-sm">
          <p>
            <a href="https://kenney.nl/assets/hexagon-kit" target="_blank">Hexagon Kit</a> and
            <a href="https://kenney.nl/assets/cursor-pack" target="_blank">Cursor Pack</a> by
            <a href="https://kenney.nl" target="_blank">Kenney</a>
          </p>

          <p>
            <a href="https://codepen.io/boytchev/pen/qBLNEVZ" target="_blank">
              Wind flow implementation
            </a>
            by <a href="https://github.com/boytchev" target="_blank">Pavel Boytchev</a>
          </p>

          <p>
            Skybox via
            <a href="https://freestylized.com/skybox/sky_42/" target="_blank">Free Stylized</a>
          </p>

          <p>
            Sound Effects by
            <a
              href="https://pixabay.com/users/floraphonic-38928062/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=197891"
              target="_blank"
            >
              floraphonic </a
            >,
            <a
              href="https://pixabay.com/users/freesound_community-46691455/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=102122"
              target="_blank"
              >freesound_community</a
            >
            <a
              href="https://pixabay.com/users/rasoolasaad-47313572/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=269266"
              target="_blank"
            >
              Rasool Asaad</a
            >, <br />
            <a
              href="https://pixabay.com/users/missywhimsyart-4358466/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=266187"
              target="_blank"
            >
              Lynda Smith </a
            >,
            <a
              href="https://pixabay.com/users/sergequadrado-24990007/?utm_source=link-attribution&utm_medium=referral&utm_campaign=music&utm_content=275487"
              target="_blank"
            >
              Sergei Chetvertnykh
            </a>
            <br />
            via
            <a
              href="https://pixabay.com//?utm_source=link-attribution&utm_medium=referral&utm_campaign=music"
              target="_blank"
            >
              Pixabay
            </a>
          </p>

          <p>
            <a href="https://skfb.ly/orun9" target="_blank"> Low-Poly Seagull </a>
            by
            <a href="https://sketchfab.com/simonaskLDE" target="_blank">simonaskLDE</a>
            [<a href="http://creativecommons.org/licenses/by/4.0/" target="_blank"> CC </a>]
            <br />via
            <a href="https://sketchfab.com/" target="_blank"> Sketchfab </a>
          </p>

          <p>
            <a href="https://poly.pizza/m/cIzO4MBPqI" target="_blank"> Sail Ship </a>
            by
            <a href="https://poly.pizza/u/Quaternius" target="_blank"> Quaternius </a>
            and <br />
            <a href="https://poly.pizza/m/1d76pfN4Dne" target="_blank"> Sailboat </a>
            by
            <a href="https://poly.pizza/u/Poly%20by%20Google" target="_blank"> Poly by Google </a>
            [<a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC</a>]
            <br />via
            <a href="https://poly.pizza" target="_blank"> Poly Pizza </a>
          </p>
        </div>
      </div>

      <div id="settings" class="modal hidden">
        <h2>Graphics Settings</h2>
        <div class="flex flex-col gap-2 w-44">
          <label>
            <input type="radio" name="graphics" value="quality" />
            <span class="radio-mark"></span>
            Quality
          </label>
          <label>
            <input type="radio" name="graphics" value="performance" />
            <span class="radio-mark"></span>
            Performance
          </label>
        </div>
        <p id="restart-warning" class="text-amber-500 scale-0">
          You might need to restart the game for some changes to take effect
        </p>
      </div>

      <!-- header -->
      <button id="menu" title="Main menu" class="hex absolute top-4 left-4 z-10 hidden">
        <i class="fa-solid fa-bars"></i>
      </button>
      <div>
        <h1 id="level" class="hidden">Level 1</h1>
      </div>

      <!-- tutorial -->
      <p id="tutorial" class="hidden">Touch any river tile to start</p>

      <!-- footer -->
      <div class="absolute bottom-4 text-center w-full pointer-events-none">
        <button id="next" class="hex text-2xl pointer-events-auto hidden">Next</button>
      </div>

      <div id="controls" class="absolute bottom-4 right-4">
        <button
          id="sounds"
          title="Toggle sound effects"
          class="hex absolute bottom-10 right-6 hidden"
        >
          <i class="fa-solid fa-volume-low"></i>
        </button>
        <button id="loop" title="Toggle music" class="hex absolute bottom-0 right-12 hidden">
          <i class="fa-solid fa-music"></i>
        </button>
        <button
          id="ambience"
          title="Toggle ambient sound"
          class="hex absolute bottom-0 right-0 hidden"
        >
          <i class="fa-solid fa-water"></i>
        </button>
      </div>
    </main>

    <script type="module" src="./script.js"></script>
  </body>
</html>
